<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	
		<insert id="insertBoardCategory">
		insert into board_category
		values(seq_category_no.nextval,
			   #{boardNo},	
			   #{categoryComment}, 
			   #{categoryWriter}, 
			   #{categoryTitle},
			   'Y',
			   #{categoryDate})
		</insert>
		
		<insert id="insertBoardClub">
		insert into board_club
		values(seq_club_no.nextval,
			   #{boardNo},	
			   #{clubDate}, 
			   #{clubWriter}, 
			   #{clubName},
			   #{clubTitle},
			   #{clubWhere})
			   #{clubComment},
		</insert>
		 
			
			<select id="seletOneBoard" resultType="board">
				select * from board where board_no = #{boardNo}
			</select>
			
			<select id="selectBoardType" resultType="board">
				select * from board
			</select>
			
			<select id="boardCategoryView" resultType="boardCategory">
				select * from board_category where category_no = #{categoryNo}
			</select>
			
			<select id="selectBoardCategoryList" resultType="map">
				select * from board_category C left join board B on C.board_no = B.board_no 
			</select>	
			
			<select id="selectBoardClubList" resultType="map">
				select C.*, B.*, to_char(C.CATEGORY_DATE,'yyyy-MM-dd') CATEGORY_DAY from board_category C left join board B on C.board_no = B.board_no where C.board_no = #{boardNo} 
			</select>	 
			
			<select id="selectBoardList" resultType="board">
				select * from board order by board_no
			</select>
			
			<select id="selectBoardAllList" resultType="map">
				select C.*,B.*,to_char(C.CATEGORY_DATE,'yyyy-MM-dd') CATEGORY_DAY from board_category C left join board B on C.board_no = B.board_no order by C.board_no
			</select>
	
	
</mapper>