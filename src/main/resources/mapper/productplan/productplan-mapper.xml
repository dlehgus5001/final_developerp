<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="productplan">

	<!-- 작업지시서 쿼리문 -->
	<select id="selectJobOrder" resultMap="joMap" >
		select * from job_order order by jo_no desc
	</select>
	<resultMap type="map" id="joMap" >
		<id column="jo_no" property="joNo" ></id>
		<result column="customer" property="customer"></result>
		<result column="due_date" property="dueDate"></result>
		<result column="manager" property="manager"></result>
		<result column="product_name" property="productName"></result>
		<result column="order_quantity" property="orderQuantity"></result>
		
	</resultMap>
	
	<insert id="insertJobOrder">
		insert into job_order
<<<<<<< HEAD
		values( #{enrollDate},1,1,1,
				#{customer},
				#{dueDate},
				#{manager},
				#{productName},
				#{quantity},
				#{orderContent}
				)
=======
		values( 
		
			  )
>>>>>>> feature/민병준_생산계획
	
	</insert>
	<!-- 작업지시서 세부사항 조회 쿼리문 -->
	<select id="selectCustomer" resultType="map">
		select vendor_name as "content1",
			   incharge as "content2"
		from vendor
		where vendor_type = 2
	</select>
	<select id="selectTotalContentByCtmr" resultType="_int">
		select count(*) from vendor where vendor_type = 2
	</select>
	<select id="selectProductName" resultType="map">
		select pl_no as "content1",
			   product_name as "content2" 
		from product_list
	</select>
	<select id="selectTotalContentByPn" resultType="_int">
		select count(*) from product_list
	</select>
	<!-- end -->
	
	<delete id="deleteOneJo">
		delete from job_order
		where jo_no = #{joNo}
	</delete>
	
	<!-- 원재료 구매계획 쿼리문 -->
	<select id="selectEndProduct" resultType="map">
		select pl_no, product_name from product_list
	</select>
	<select id="selectTotalContentByEp" resultType="_int">
		select count(*) from product_list
	</select>
	
	
	
	
</mapper>